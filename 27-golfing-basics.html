<!doctype html>
<html>
  <head>
    <title>Idiosyncratic Ruby - Golfing Basics</title>
    <link rel="alternate" type="application/atom+xml" title="Idiosyncratic Ruby Feed" href="/feed.xml" />
<link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />
<link href='http://fonts.googleapis.com/css?family=Lato:300' rel='stylesheet' type='text/css'>
<link rel="alternate" type="application/atom+xml" title="Idiosyncratic Ruby" href="https://feeds.feedburner.com/IdiosyncraticRuby" />

<script src="/javascripts/jquery.min.js" type="text/javascript"></script><script src="/javascripts/app.js" type="text/javascript"></script>

<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="description" content="A 31 Parts Story about Ruby Specialities. A New Post Every Day in May 2015!"/>
<meta name="keywords" content="ruby, syntax, golf, strings"/>

  </head>

  <body>
    <div class="world">
      <section class="post-header">
        <a href="/index/" class="post-logo"><img src="/images/idiosyncratic.png" alt="Idiosyncratic Ruby"></a>
        <h1 class="post-heading" id="top"><a href="/27-golfing-basics.html">Golfing Basics</a></h1>
      </section>

      <article class="post">
        <p><strong>Code Golf</strong> is the art of writing the shortest program possible. The less bytes the better. And the competition is just ridiculously strong! Head over to <a href="http://golf.shinh.org/">Anarchy Golf</a> if you want to see more!</p>

<p></p>

<p>A good beginner's problem is printing out <a href="http://golf.shinh.org/p.rb?pascal+triangle">Pascal's Triangle</a>: Spend a few days to get to <strong>45</strong> bytes. Spend a few <em>months</em> to get to <strong>43</strong> bytes!</p>

<h2 id="ruby-tricks-youll-learn-by-playing-code-golf">10 Ruby Tricks You'll Learn by Playing Code Golf</h2>

<p>While code golfing does not necessarily make you a better programmer, you can learn a lot about the programming language you are using. Here are some things that were new to me:</p>

<h2 id="dirty-interpolation">Dirty Interpolation</h2>

<p>String interpolation (<code>#{}</code>) is sometimes possible without using curlies:</p>

<pre><code>"You can directly interpolate #@instance variables, " \
"#@@class variables, and #$global variables!"
</code></pre>

<p>I must admit, this can confuse newcomers, but it looks fantastic!</p>

<h2 id="constant-assignment-in-modifiers">Constant Assignment in Modifiers</h2>

<p>It is perfectly legit to use assignments in conditions:</p>

<pre><code>if a = 42
  p a
end
# =&gt; 42
</code></pre>

<p>However, this won't work with the shorter <em>modifier</em> syntax:</p>

<pre><code>p b if b = 42
# NameError: undefined local variable or method `b'...
</code></pre>

<p>Unlessâ€¦ you use constants:</p>

<pre><code>p C if C = 42
# =&gt; 42
</code></pre>

<h2 id="shebang-require">Shebang <code>require</code></h2>

<p>What could possibly be shorter than:</p>

<pre><code>require'json'; require 'yaml'
p JSON,YAML
</code></pre>

<p>It's inlined command-line options:</p>

<pre><code>#!ruby -rjson -ryaml
p JSON,YAML
</code></pre>

<h2 id="iterating-input-lines">Iterating Input Lines</h2>

<p>Finding the shortest way to read user input is a common problem for golfers and solutions vary, depending on how to process the input. My favorite one is to iterate over the input's lines:</p>

<pre><code>$&lt;.each{|e|p e}
</code></pre>

<h2 id="appending-output">Appending Output</h2>

<p><code>puts</code> and <code>p</code> are already good candidates to output content. However, sometimes, using <code>&lt;&lt;</code> on <code>STDOUT</code> is a tiny bit (or byte) more efficent:</p>

<pre><code>?a.upto(?z){|o|$&gt;&lt;&lt;o}
</code></pre>

<h2 id="regex-always-wins">Regex Always Wins</h2>

<p>This is one of the golden rules of golfing. Especially, combining the <a href="http://ruby-doc.org/core-2.2.2/String.html#method-i-gsub">block syntax of <code>gsub</code></a> with the <a href="http://idiosyncratic-ruby.com/9-globalization.html">perlish regex variables</a> can be very expressive!</p>

<pre><code>"some_string".gsub(/(^|_)(\w)/){$2.upcase}
</code></pre>

<h2 id="stringtr"><code>String#tr</code></h2>

<p>However, it's not true - regexes do not always win. If you need to perform some simple character substitutions, <a href="https://en.wikipedia.org/wiki/Tr_%28Unix%29">tr</a> is an extremly short (and also clean) way to do so:</p>

<pre><code># ROT13 Cipher
"Vqvbflapengvp Ehol".tr'a-zA-Z','n-za-mN-ZA-M'
# =&gt; "Idiosyncratic Ruby"
</code></pre>

<h2 id="one-more-or-less">One More or Less</h2>

<p>In some instances, you cannot use <code>i+1</code> or <code>i-1</code> without wrapping them in parenthesis. No problem, <a href="http://ruby-doc.org/core-2.2.2/Fixnum.html#method-i-7E">unary complement</a> to the rescue:</p>

<pre><code>-~42 # =&gt; 43
~-42 # =&gt; 41
</code></pre>

<h2 id="flexible-precedence">Flexible Precedence</h2>

<p>This is one of my favorites: Explicitely call (<code>.</code>) operators for alternative precedence semantics:</p>

<pre><code>3*(2+1) #=&gt; 9
3.*2+1 #=&gt; 9
</code></pre>

<h2 id="quick-quit">Quick Quit</h2>

<p>What's a shorter way to quit a Ruby script than the 4 bytes long <code>exit</code> method?</p>

<pre><code>1/0
</code></pre>

<p>Although this is longer than <code>z</code> (calling an undefined method), it's often easier to trigger programmatically.</p>


        <h2>More Idiosyncratic Ruby</h2>
        <ul>
          <li><a href="https://github.com/janlelis/idiosyncratic-ruby.com/commit/23e16d087f6c9718a977efa41b6651a684c403e6#all_commit_comments">Comments on GitHub</a></li>
          <li><a class="twitter-share-button" href="https://twitter.com/share"
            data-via="idiosyncraticrb"
            data-count="horizontal"
            data-dnt="true"
          > Tweet this Episode
        </a><script>window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));</script></li>
            <li>Next Article: <a href="/28-operating-nothing.html">Operating Nothing</a></li>
            <li>Previous Article: <a href="/26-file-encoding-magic.html">File Encoding Magic</a></li>
        </ul>
      </article>

      <footer>
        <div class="footer-right">
          On <a href="/">Idiosyncratic Ruby</a> by <a href="http://janlelis.com">Jan Lelis</a><br>
        </div>
        About Syntax, Golf, Strings |
        Last Update: 2015-05-27
      </footer>
    </div>
    <script src="/javascripts/rainbow-custom.min.js" type="text/javascript"></script>
  </body>
</html>