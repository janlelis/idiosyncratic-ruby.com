<!doctype html>
<html>
  <head>
    <title>Idiosyncratic Ruby: Meeting some Locals</title>
    <link rel="alternate" type="application/atom+xml" title="Idiosyncratic Ruby Feed" href="/feed.xml" />
<link href="/stylesheets/all.css" rel="stylesheet" type="text/css" />

<script src="/javascripts/jquery.min.js" type="text/javascript"></script><script src="/javascripts/app.js" type="text/javascript"></script>

<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="description" content="Documenting All Ruby Specialities. New posts in May 2018!"/>
<meta name="keywords" content="ruby, syntax, regex"/>

  </head>

  <body>
    <div class="world">
      <section class="post-header">
        <a href="/" class="post-logo"><img src="/images/idiosyncratic.png" alt="Idiosyncratic Ruby"></a>
        <h1 class="post-heading" id="top"><a href="/14-meeting-some-locals.html">Meeting some Locals</a></h1>
      </section>

      <article class="post">
        <p>There are two very different ways to create local variables in Ruby. You are probably familiar with the classical way:</p>

<p></p>

<pre><code>a, b = "$", "€"
a # =&gt; "$"
b # =&gt; "€"
</code></pre>

<p>It is simple to understand and looks good. But Ruby would not be Ruby, if there weren't for more obscure ways to assign variables: You could rewrite the previous example to create local variables in a more subtle way:</p>

<pre><code>%r&lt;(?'a'.)(?'b'.)&gt;=~"$" "€"
a # =&gt; "$"
b # =&gt; "€"
</code></pre>

<h2 id="implicit-local-variables-through-regex-matching">Implicit Local Variables Through Regex Matching</h2>

<p>Without the fancy obfuscations, the example above would look like this:</p>

<pre><code>/(?&lt;a&gt;.)(?&lt;b&gt;.)/ =~ "$€"
a # =&gt; "$"
b # =&gt; "€"
</code></pre>

<p>The regex matching operator <code>=~</code> will create new local variables, when used together with <a href="https://ruby-doc.org/core/Regexp.html#class-Regexp-label-Capturing">named captures</a>. However, this is not recommended, because obviously, it violates <strong>PrOWCoFoHuNoMa</strong> (Principle of writing code for humans, not machines).</p>

<p>By the way, this will not work, if you swap operands:</p>

<pre><code>"$€" =~ /(?&lt;a&gt;.)(?&lt;b&gt;.)/
a # NameError: ...
</code></pre>

<h2 id="one-more-option">One More Option</h2>

<p>In actuality, there is also a third way to set local variables: binding's <code>local_variable_set</code>, but it does not really count, since you cannot introduce new variables this way:</p>

<pre><code>a = nil
binding.local_variable_set :a, "$"
binding.local_variable_set :b, "€"
a # =&gt; "$"
b # NameError: ...
</code></pre>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://ruby-doc.org/core/Regexp.html#method-i-3D-7E">RDoc: Regexp#=~</a></li>
  <li><a href="https://ruby-doc.org/core/Binding.html#method-i-local_variable_set">RDoc: Binding#local_variable_set</a></li>
</ul>


        <h2>More Idiosyncratic Ruby</h2>
        <ul>
          <li><a href="https://github.com/janlelis/idiosyncratic-ruby.com/commit/35cc9cf6601b47edca82e29ad6b8f6f8f7b0fe4d#all_commit_comments">Please Comment on GitHub</a></li>
            <li>Next Article: <a href="/15-207-ways-to-rome.html">210 Ways to Rome</a></li>
            <li>Previous Article: <a href="/13-slicing-rubies.html">Slicing Rubies</a></li>
        </ul>
      </article>

      <footer>
        <div class="footer-right">
          On <a href="/">Idiosyncratic Ruby</a> by <a href="https://janlelis.com">Jan Lelis</a><br>
          Article Contributions by: Ilya Vassilevsky<br>
          <a href="https://janlelis.com/data-protection.html">Data Protection</a>
        </div>
        About Syntax, Regex<br>
        Last Update: 2017-12-25
      </footer>
    </div>
    <script src="/javascripts/rainbow-custom.min.js" type="text/javascript"></script>
  </body>
</html>